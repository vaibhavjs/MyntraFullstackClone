<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_2wUQXe5vSSi8p0KCh387GT3XmmKe1a03dRuvU4ezwSOQNFcJ4pxrxAcYAftYl_m4cDQ&usqp=CAU"
    />
    <title>Products Page</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Slab&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/productsPage.css" />
    <link rel="stylesheet" href="/css/myntra.css" />
  </head>
  <body>
    <!-- <div id="navbar"></div> -->
      <!------- Navbar Starts Here ----->

      <%- include ("partials/navbar.partials.ejs") %>

      <!------- Navbar Ends Here ------->

    <div id="parent_div">
      <div class="topDiv">Home</div>
      <div class="">
        <strong style="margin-left: 20px">Myntra Fashion Store </strong
        ><span style="color: gray">- 2208 items</span>
      </div>

      <div id="globalDiv">
        <div id="filters">
          <div class="" style="font-size: 16px" id="filter_head">
            <strong>FILTERS</strong>
          </div>
          <div class="box">
            <label class="container"
              ><input id="men" type="checkbox" value="men" onclick="filter('ageGroup','Men')" /><strong>Men</strong></label>

            <label class="container"><input id="women" type="checkbox" value="women" onclick="filter('ageGroup','Women')" /><strong>Women</strong></label >

            
            
           <lable class='container'> <input id="boys" type="checkbox" value="men" onclick="filter('ageGroup','Boys')" /><strong>Boys</strong></label>

            <label class="container"
              ><input id="girls" type="checkbox" value="women" onclick="filter('ageGroup','Girls')" /><strong>Girls</strong></label>

          </div>

          <div class="box">
            <p><strong>CATEGORIES</strong></p>

            <label class="container"
              ><input type="checkbox" value="tshirt" id="tshirt" onclick="filter('category','Tshirts')" />Tshirts
              <span>(533)</span></label
            >

            <label class="container"
              ><input id="tops" type="checkbox" value="tops" onclick="filter('category','Tops')"/>Tops
              <span>(412)</span></label
            >

            <label class="container"
              ><input id="kurta" type="checkbox" value="kurta" onclick="filter('category','Kurtas') "/>Kurtas
              <span>(265)</span></label
            >

            <label class="container"

              ><input id="earring" type="checkbox" value="earring" onclick="filter('category','Earrings')"/>Earrings
              <span>(784)</span></label >

              <lable class="container"><input id="beautycare" type="checkbox" value="beautycare" onclick="filter('category','Beauty Care')"/>Beauty Care
              <span>(784)</span></label>


            <label class="container"
              ><input id="shirt" type="checkbox" value="shirt" onclick="filter('category','Shirts') "/>Shirts
              <span>(2432)</span></label
            >

            <label class="container"
              ><input id="dresses" type="checkbox" value="dresses" onclick="filter('category','Dresses') "/>Dresses
              <span>(914)</span></label
            >

            <label class="container"
              ><input id="shoes" type="checkbox" value="shoes" onclick="filter('category','Shoes') "/>Shoes
              <span>(563)</span></label
            >

            <label class="container"
              ><input id="short" type="checkbox" value="short"  onclick="filter('category','Shorts') "/>Shorts
              <span>(1254)</span></label
            >
          </div>

          <div class="box">
            <p><strong>BRAND</strong></p>

            <label class="container"
              ><input id="roadster" type="checkbox" value="Roadster" />Roadster
              <span>(2432)</span>
            </label>

            <label class="container"
              ><input
                id="dressberry"
                type="checkbox"
                value="Dressberry"
              />Dressberry <span>(2121)</span></label
            >

            <label class="container"
              ><input id="clovia" type="checkbox" value="Clovia" />Clovia
              <span>(2013)</span></label
            >

            <label class="container"
              ><input id="here&now" type="checkbox" value="HERE&NOW" />HERE&NOW
              <span>(1556)</span></label
            >

            <label class="container"
              ><input id="harbour" type="checkbox" value="Mast & Harbour" />Mast
              & Harbour<span>(1427)</span></label
            >

            <label class="container"
              ><input id="celfie" type="checkbox" value="Celfie Design" />Celfie
              Design <span>(1427)</span></label
            >

            <label class="container"
              ><input type="checkbox" id="kalini" value="KALINI" />KALINI
              <span>(1436)</span></label
            >
          </div>

          <div class="box">
            <p><strong>PRICE</strong></p>

            <label class="container"
              ><input id="first" type="checkbox" value="265" onclick="priceFilter(20,265)" />Rs. 20 to Rs. 265
              <span>(6786)</span>
            </label>

            <label class="container"
              ><input id="second" type="checkbox" value="510" onclick="priceFilter(265,510)"/>Rs. 265 to Rs.
              510 <span>(1536)</span></label
            >

            <label class="container"
              ><input id="third" type="checkbox" value="755" onclick="priceFilter(510,755)"/>Rs. 510 to Rs.
              755 <span>(4565)</span></label
            >

            <label class="container"
              ><input id="fourth" type="checkbox" value="1000" onclick="priceFilter(755,1000)"/>Rs. 755 to Rs.
              1000 <span>(14564)</span></label
            >

            <label class="container"
              ><input id="fifth" type="checkbox" value="10000" onclick="priceFilter(1000,10000)"/>Rs. 1000 to Rs.
              10,000 <span>(14564)</span></label
            >
          </div>

          <div class="box">
            <p><strong>COLOR</strong></p>

            <label class="container"
              ><input id="black" type="checkbox" value="black" onclick="colorFilter('Black')"/>
              <div class="color" style="background-color: black"></div>
              Black <span>(4326)</span></label
            >

            <label class="container"
              ><input id="blue" type="checkbox" value="blue" onclick="colorFilter('Blue')"/>
              <div class="color" style="background-color: blue"></div>
              Blue <span>(16274)</span></label
            >

            <label class="container"
              ><input id="white" type="checkbox" value="white" onclick="colorFilter('White')"/>
              <div class="color" style="background-color: white"></div>
              White <span>(10001)</span></label
            >

            <label class="container"
              ><input id="pink" type="checkbox" value="pink" onclick="colorFilter('Pink')"/>
              <div class="color" style="background-color: pink"></div>
              Pink <span>(3165)</span></label
            >

            <label class="container"
              ><input id="navyBlue" type="checkbox" value="navyBlue" onclick="colorFilter('Navy Blue')"/>
              <div class="color" style="background-color: navy"></div>
              Navy Blue <span>(3060)</span></label
            >

            <label class="container"
              ><input id="red" type="checkbox" value="red" onclick="colorFilter('Red')"/>
              <div class="color" style="background-color: red"></div>
              Red <span>(4651)</span></label
            >

            <label class="container"
              ><input id="green" type="checkbox" value="green" onclick="colorFilter('Green')"/>
              <div class="color" style="background-color: green"></div>
              Green <span>(4156)</span></label
            >
          </div>

          <div class="box">
            <p><strong>DISCOUNT RANGE</strong></p>

            <label class="container"
              ><input id="ten" type="checkbox" value="10" onclick="discountFilter(10)"/>10% and above</label
            >

            <label class="container"
              ><input id="twenty" type="checkbox" value="20" onclick="discountFilter(20)"/>20% and
              above</label
            >

            <label class="container"
              ><input id="thirty" type="checkbox" value="30" onclick="discountFilter(30)"/>30% and
              above</label
            >

            <label class="container"
              ><input id="fourty" type="checkbox" value="40" onclick="discountFilter(40)"/>40% and
              above</label
            >

            <label class="container"
              ><input id="fifty" type="checkbox" value="50" onclick="discountFilter(50)"/>50% and
              above</label
            >

            <label class="container"
              ><input id="sixty" type="checkbox" value="60" onclick="discountFilter(60)"/>60% and
              above</label
            >

            <label class="container"
              ><input id="seventy" type="checkbox" value="70" onclick="discountFilter(70)"/>70% and
              above</label
            >

            <label class="container"
              ><input id="eighty" type="checkbox" value="80" onclick="discountFilter(80)"/>80% and
              above</label
            >

            <label class="container"
              ><input id="ninety" type="checkbox" value="90" onclick="discountFilter(90)"/>90% and
              above</label
            >
          </div>
        </div>
        <div>
          <div id="top_product_cont_div">
            <div>
              <select name="" id="bundles">
                <option value="bundles">Bundles</option>
              </select>
            </div>

            <div>
              <select name="" id="contryOfOrigin">
                <option value="">Country Of Origin</option>
                <option value="india">India</option>
                <option value="all countries">All countries</option>
              </select>
            </div>

            <div class="size">
              <select name="">
                <option value="">Size</option>
                <option value="small">Small</option>
                <option value="midium">Medium</option>
                <option value="larg">Larg</option>
              </select>
            </div>
            <div class="dropdown">
              <button>Sort by : <strong>Recommended</strong></button>
              <div class="dropdown-content">
                <a id="whatsnew">What's New</a>
                <a id="popularity" onclick="sortt('count')">Popularity</a>
                <a id="betterDiscount" onclick="sortt('-discount')">Better Discount</a>
                <a id="sortHightoLow" onclick="sortt('-price')">Price High to Low</a>
                <a id="sortLowtoHigh" onclick="sortt('price')">Price Low to High</a>
                <a id="costomerRating" onclick="sortt('ratings')" >Customer Rating</a>
              </div>
            </div>
          </div>

          <div id="products_cont">
            
            <% products.map((product) => { %>
               <% let id = product._id %>

              <div class="outer_div"  onclick="nextPage('<%= product._id %>'); event.stopPropagation" onmouseover="enterr('<%= product._id %>')" onmouseleave="leavee('<%= product._id %>')">

                
                  <div class="img_div"  onclick="nextPage('<%= product._id %>')">
                    
                    <img src="<%= product.images[0] %>" alt="" id="proImg"/>
                    <button class="wishbtn"  id="<%= product._id %>" onclick="findd('<%=product._id%>','hi'); event.stopPropagation" >
                      <span class="material-icons">favorite_border</span>
                      <span class="wishname">WISHLIST</span>
                    </button>
                   
                  </div>
                  <div class="text_div">
                    <p><b><%= product.brand %></b></p>
                    <p class="title"><%= product.title %></p>
                    <span><b><%= 'Rs.' + product.price + ' ' %></b></span>
                    <span class="off_price"><%= 'Rs.' + product.off_price + ' ' %></span>
                    <span class="discount"><%= '(' + product.discount + '%OFF)' %></span>
                  </div>
                                
              </div>
              <% }) %>

          </div>
        </div>
      </div>

      <div class="paginationDiv">
     <div class="pagination" id="totalPage"><p>Page <%=page%>  of <%=totalPages%></p></div>
     <div  class="pagination">
      <ul>
        

        <li><a href="?page=<%= page-1%>" class="priv" >< Previous</a></li>

        <li><a href="?page=1" class="pageNo " >1</a></li>
        <li ><a href="?page=2" class="pageNo" >2</a></li>
        <li><a href="?page=3" class="pageNo" >3</a></li>
        <!-- <li><a href="#" class="pageNo" >4</a></li>
        <li><a href="#" class="pageNo" >5</a></li>
        <li><a href="#" class="pageNo" >6</a></li> -->
        <li><a href="?page=<%= page+1%>" class="next" >Next ></a></li>
      </ul>
     </div>
      </div>
      <!-- <footer id="footer"></footer> -->
        <!------- Navbar Starts Here ----->

        <%- include ("partials/footer.partials.ejs") %>

        <!------- Navbar Ends Here ------->
    </div>
    <script>
      let gender = JSON.parse(`<%- gender%>`);
      console.log("gender-----",gender);

      
      
      
      // function page (num) {
      //   console.log("inside page quary",gen);
      //   let query = "ageGroup";
      //    window.location.href = `/products/category/${query}/${gender}?page=${num}`;
      //   let page = document.getElementById("page");
      //   page.innerText = num;

      // }
    </script>
  </body>
</html>
<script>
  function page (num) {
  console.log (num);
  window.location.href = `/mainProducts/page?ra=${num}&limit=${15}`;
}

</script>
<script src="/javascrippt/productsPage.js" ></script>
<script src="/javascrippt/myntrascript.js" ></script>
